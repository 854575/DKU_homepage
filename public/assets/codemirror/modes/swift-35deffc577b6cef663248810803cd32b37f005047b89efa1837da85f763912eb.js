!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}function n(e,t,n){if(e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;var i=e.peek();if("/"==i){if(e.match("//"))return e.skipToEnd(),"comment";if(e.match("/*"))return t.tokenize.push(o),o(e,t);if(e.match(b))return"string-2"}if(h.indexOf(i)>-1)return e.next(),"operator";if(p.indexOf(i)>-1)return e.next(),e.match(".."),"punctuation";if('"'==i||"'"==i){e.next();var a=r(i);return t.tokenize.push(a),a(e,t)}if(e.match(m))return"number";if(e.match(v))return"property";if(e.match(g)){var s=e.current();return c.hasOwnProperty(s)?(u.hasOwnProperty(s)&&(t.prev="define"),"keyword"):f.hasOwnProperty(s)?"variable-2":d.hasOwnProperty(s)?"atom":"define"==n?"def":"variable"}return e.next(),null}function i(){var e=0;return function(t,i,r){var o=n(t,i,r);if("punctuation"==o)if("("==t.current())++e;else if(")"==t.current()){if(0==e)return t.backUp(1),i.tokenize.pop(),i.tokenize[i.tokenize.length-1](t,i);--e}return o}}function r(e){return function(t,n){for(var r,o=!1;r=t.next();)if(o){if("("==r)return n.tokenize.push(i()),"string";o=!1}else{if(r==e)break;o="\\"==r}return n.tokenize.pop(),"string"}}function o(e,t){return e.match(/^(?:[^*]|\*(?!\/))*/),e.match("*/")&&t.tokenize.pop(),"comment"}function a(e,t,n){this.prev=e,this.align=t,this.indented=n}function s(e,t){var n=t.match(/^\s*($|\/[\/\*])/,!1)?null:t.column()+1;e.context=new a(e.context,n,e.indented)}function l(e){e.context&&(e.indented=e.context.indented,e.context=e.context.prev)}var c=t(["var","let","class","deinit","enum","extension","func","import","init","protocol","static","struct","subscript","typealias","as","dynamicType","is","new","super","self","Self","Type","__COLUMN__","__FILE__","__FUNCTION__","__LINE__","break","case","continue","default","do","else","fallthrough","if","in","for","return","switch","where","while","associativity","didSet","get","infix","inout","left","mutating","none","nonmutating","operator","override","postfix","precedence","prefix","right","set","unowned","weak","willSet"]),u=t(["var","let","class","enum","extension","func","import","protocol","struct","typealias","dynamicType","for"]),d=t(["Infinity","NaN","undefined","null","true","false","on","off","yes","no","nil","null","this","super"]),f=t(["String","bool","int","string","double","Double","Int","Float","float","public","private","extension"]),h="+-/*%=|&<>#",p=";,.(){}[]",m=/^-?(?:(?:[\d_]+\.[_\d]*|\.[_\d]+|0o[0-7_\.]+|0b[01_\.]+)(?:e-?[\d_]+)?|0x[\d_a-f\.]+(?:p-?[\d_]+)?)/i,g=/^[_A-Za-z$][_A-Za-z$0-9]*/,v=/^[@\.][_A-Za-z$][_A-Za-z$0-9]*/,b=/^\/(?!\s)(?:\/\/)?(?:\\.|[^\/])+\//;e.defineMode("swift",function(e){return{startState:function(){return{prev:null,context:null,indented:0,tokenize:[]}},token:function(e,t){var i=t.prev;t.prev=null;var r=t.tokenize[t.tokenize.length-1]||n,o=r(e,t,i);if(o&&"comment"!=o?t.prev||(t.prev=o):t.prev=i,"punctuation"==o){var a=/[\(\[\{]|([\]\)\}])/.exec(e.current());a&&(a[1]?l:s)(t,e)}return o},indent:function(t,n){var i=t.context;if(!i)return 0;var r=/^[\]\}\)]/.test(n);return null!=i.align?i.align-(r?1:0):i.indented+(r?0:e.indentUnit)},electricInput:/^\s*[\)\}\]]$/,lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/"}}),e.defineMIME("text/x-swift","swift")});