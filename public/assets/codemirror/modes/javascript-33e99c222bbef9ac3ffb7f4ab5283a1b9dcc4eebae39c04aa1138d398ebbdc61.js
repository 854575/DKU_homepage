!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e,n){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(e.lastType)||"quasi"==e.lastType&&/\{\s*$/.test(t.string.slice(0,t.pos-(n||0)))}t.defineMode("javascript",function(n,i){function r(t){for(var e,n=!1,i=!1;null!=(e=t.next());){if(!n){if("/"==e&&!i)return;"["==e?i=!0:i&&"]"==e&&(i=!1)}n=!n&&"\\"==e}}function o(t,e,n){return xt=t,wt=n,e}function a(t,n){var i=t.next();if('"'==i||"'"==i)return n.tokenize=s(i),n.tokenize(t,n);if("."==i&&t.match(/^\d+(?:[eE][+\-]?\d+)?/))return o("number","number");if("."==i&&t.match(".."))return o("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return o(i);if("="==i&&t.eat(">"))return o("=>","operator");if("0"==i&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),o("number","number");if("0"==i&&t.eat(/o/i))return t.eatWhile(/[0-7]/i),o("number","number");if("0"==i&&t.eat(/b/i))return t.eatWhile(/[01]/i),o("number","number");if(/\d/.test(i))return t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),o("number","number");if("/"==i)return t.eat("*")?(n.tokenize=l,l(t,n)):t.eat("/")?(t.skipToEnd(),o("comment","comment")):e(t,n,1)?(r(t),t.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),o("regexp","string-2")):(t.eatWhile(Lt),o("operator","operator",t.current()));if("`"==i)return n.tokenize=c,c(t,n);if("#"==i)return t.skipToEnd(),o("error","error");if(Lt.test(i))return t.eatWhile(Lt),o("operator","operator",t.current());if(At.test(i)){t.eatWhile(At);var a=t.current(),u=Mt.propertyIsEnumerable(a)&&Mt[a];return u&&"."!=n.lastType?o(u.type,u.style,a):o("variable","variable",a)}}function s(t){return function(e,n){var i,r=!1;if(St&&"@"==e.peek()&&e.match(Nt))return n.tokenize=a,o("jsonld-keyword","meta");for(;null!=(i=e.next())&&(i!=t||r);)r=!r&&"\\"==i;return r||(n.tokenize=a),o("string","string")}}function l(t,e){for(var n,i=!1;n=t.next();){if("/"==n&&i){e.tokenize=a;break}i="*"==n}return o("comment","comment")}function c(t,e){for(var n,i=!1;null!=(n=t.next());){if(!i&&("`"==n||"$"==n&&t.eat("{"))){e.tokenize=a;break}i=!i&&"\\"==n}return o("quasi","string-2",t.current())}function u(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var n=t.string.indexOf("=>",t.start);if(!(n<0)){for(var i=0,r=!1,o=n-1;o>=0;--o){var a=t.string.charAt(o),s=Dt.indexOf(a);if(s>=0&&s<3){if(!i){++o;break}if(0==--i)break}else if(s>=3&&s<6)++i;else if(At.test(a))r=!0;else{if(/["'\/]/.test(a))return;if(r&&!i){++o;break}}}r&&!i&&(e.fatArrowAt=o)}}function d(t,e,n,i,r,o){this.indented=t,this.column=e,this.type=n,this.prev=r,this.info=o,null!=i&&(this.align=i)}function f(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0;for(var i=t.context;i;i=i.prev)for(var n=i.vars;n;n=n.next)if(n.name==e)return!0}function h(t,e,n,i,r){var o=t.cc;for(Ot.state=t,Ot.stream=r,Ot.marked=null,Ot.cc=o,Ot.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var a=o.length?o.pop():Tt?k:w;if(a(n,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Ot.marked?Ot.marked:"variable"==n&&f(t,i)?"variable-2":e}}}function p(){for(var t=arguments.length-1;t>=0;t--)Ot.cc.push(arguments[t])}function m(){return p.apply(null,arguments),!0}function g(t){function e(e){for(var n=e;n;n=n.next)if(n.name==t)return!0;return!1}var n=Ot.state;if(Ot.marked="def",n.context){if(e(n.localVars))return;n.localVars={name:t,next:n.localVars}}else{if(e(n.globalVars))return;i.globalVars&&(n.globalVars={name:t,next:n.globalVars})}}function v(){Ot.state.context={prev:Ot.state.context,vars:Ot.state.localVars},Ot.state.localVars=It}function y(){Ot.state.localVars=Ot.state.context.vars,Ot.state.context=Ot.state.context.prev}function b(t,e){var n=function(){var n=Ot.state,i=n.indented;if("stat"==n.lexical.type)i=n.lexical.indented;else for(var r=n.lexical;r&&")"==r.type&&r.align;r=r.prev)i=r.indented;n.lexical=new d(i,Ot.stream.column(),t,null,n.lexical,e)};return n.lex=!0,n}function _(){var t=Ot.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function x(t){function e(n){return n==t?m():";"==t?p():m(e)}return e}function w(t,e){return"var"==t?m(b("vardef",e.length),X,x(";"),_):"keyword a"==t?m(b("form"),k,w,_):"keyword b"==t?m(b("form"),w,_):"{"==t?m(b("}"),B,_):";"==t?m():"if"==t?("else"==Ot.state.lexical.info&&Ot.state.cc[Ot.state.cc.length-1]==_&&Ot.state.cc.pop()(),m(b("form"),k,w,_,tt)):"function"==t?m(at):"for"==t?m(b("form"),et,w,_):"variable"==t?m(b("stat"),P):"switch"==t?m(b("form"),k,b("}","switch"),x("{"),B,_,_):"case"==t?m(k,x(":")):"default"==t?m(x(":")):"catch"==t?m(b("form"),v,x("("),st,x(")"),w,_,y):"class"==t?m(b("form"),lt,_):"export"==t?m(b("stat"),ft,_):"import"==t?m(b("stat"),ht,_):"module"==t?m(b("form"),Y,b("}"),x("{"),B,_,_):"async"==t?m(w):p(b("stat"),k,x(";"),_)}function k(t){return S(t,!1)}function C(t){return S(t,!0)}function S(t,e){if(Ot.state.fatArrowAt==Ot.stream.start){var n=e?j:D;if("("==t)return m(v,b(")"),$(Y,")"),_,x("=>"),n,y);if("variable"==t)return p(v,Y,x("=>"),n,y)}var i=e?M:A;return jt.hasOwnProperty(t)?m(i):"function"==t?m(at,i):"keyword c"==t?m(e?E:T):"("==t?m(b(")"),T,bt,x(")"),_,i):"operator"==t||"spread"==t?m(e?C:k):"["==t?m(b("]"),vt,_,i):"{"==t?W(q,"}",null,i):"quasi"==t?p(L,i):"new"==t?m(O(e)):m()}function T(t){return t.match(/[;\}\)\],]/)?p():p(k)}function E(t){return t.match(/[;\}\)\],]/)?p():p(C)}function A(t,e){return","==t?m(k):M(t,e,!1)}function M(t,e,n){var i=0==n?A:M,r=0==n?k:C;return"=>"==t?m(v,n?j:D,y):"operator"==t?/\+\+|--/.test(e)?m(i):"?"==e?m(k,x(":"),r):m(r):"quasi"==t?p(L,i):";"!=t?"("==t?W(C,")","call",i):"."==t?m(R,i):"["==t?m(b("]"),T,x("]"),_,i):void 0:void 0}function L(t,e){return"quasi"!=t?p():"${"!=e.slice(e.length-2)?m(L):m(k,N)}function N(t){if("}"==t)return Ot.marked="string-2",Ot.state.tokenize=c,m(L)}function D(t){return u(Ot.stream,Ot.state),p("{"==t?w:k)}function j(t){return u(Ot.stream,Ot.state),p("{"==t?w:C)}function O(t){return function(e){return"."==e?m(t?F:I):p(t?C:k)}}function I(t,e){if("target"==e)return Ot.marked="keyword",m(A)}function F(t,e){if("target"==e)return Ot.marked="keyword",m(M)}function P(t){return":"==t?m(_,w):p(A,x(";"),_)}function R(t){if("variable"==t)return Ot.marked="property",m()}function q(t,e){return"variable"==t||"keyword"==Ot.style?(Ot.marked="property",m("get"==e||"set"==e?H:z)):"number"==t||"string"==t?(Ot.marked=St?"property":Ot.style+" property",m(z)):"jsonld-keyword"==t?m(z):"modifier"==t?m(q):"["==t?m(k,x("]"),z):"spread"==t?m(k):void 0}function H(t){return"variable"!=t?p(z):(Ot.marked="property",m(at))}function z(t){return":"==t?m(C):"("==t?p(at):void 0}function $(t,e){function n(i,r){if(","==i){var o=Ot.state.lexical;return"call"==o.info&&(o.pos=(o.pos||0)+1),m(t,n)}return i==e||r==e?m():m(x(e))}return function(i,r){return i==e||r==e?m():p(t,n)}}function W(t,e,n){for(var i=3;i<arguments.length;i++)Ot.cc.push(arguments[i]);return m(b(e,n),$(t,e),_)}function B(t){return"}"==t?m():p(w,B)}function U(t){if(Et&&":"==t)return m(K)}function V(t,e){if("="==e)return m(C)}function K(t){if("variable"==t)return Ot.marked="variable-3",m(G)}function G(t,e){return"<"==e?m($(K,">"),G):"["==t?m(x("]"),G):void 0}function X(){return p(Y,U,Z,J)}function Y(t,e){return"modifier"==t?m(Y):"variable"==t?(g(e),m()):"spread"==t?m(Y):"["==t?W(Y,"]"):"{"==t?W(Q,"}"):void 0}function Q(t,e){return"variable"!=t||Ot.stream.match(/^\s*:/,!1)?("variable"==t&&(Ot.marked="property"),"spread"==t?m(Y):"}"==t?p():m(x(":"),Y,Z)):(g(e),m(Z))}function Z(t,e){if("="==e)return m(C)}function J(t){if(","==t)return m(X)}function tt(t,e){if("keyword b"==t&&"else"==e)return m(b("form","else"),w,_)}function et(t){if("("==t)return m(b(")"),nt,x(")"),_)}function nt(t){return"var"==t?m(X,x(";"),rt):";"==t?m(rt):"variable"==t?m(it):p(k,x(";"),rt)}function it(t,e){return"in"==e||"of"==e?(Ot.marked="keyword",m(k)):m(A,rt)}function rt(t,e){return";"==t?m(ot):"in"==e||"of"==e?(Ot.marked="keyword",m(k)):p(k,x(";"),ot)}function ot(t){")"!=t&&m(k)}function at(t,e){return"*"==e?(Ot.marked="keyword",m(at)):"variable"==t?(g(e),m(at)):"("==t?m(v,b(")"),$(st,")"),_,U,w,y):void 0}function st(t){return"spread"==t?m(st):p(Y,U,V)}function lt(t,e){if("variable"==t)return g(e),m(ct)}function ct(t,e){return"extends"==e?m(k,ct):"{"==t?m(b("}"),ut,_):void 0}function ut(t,e){return"variable"==t||"keyword"==Ot.style?"static"==e?(Ot.marked="keyword",m(ut)):(Ot.marked="property","get"==e||"set"==e?m(dt,at,ut):m(at,ut)):"*"==e?(Ot.marked="keyword",m(ut)):";"==t?m(ut):"}"==t?m():void 0}function dt(t){return"variable"!=t?p():(Ot.marked="property",m())}function ft(t,e){return"*"==e?(Ot.marked="keyword",m(gt,x(";"))):"default"==e?(Ot.marked="keyword",m(k,x(";"))):p(w)}function ht(t){return"string"==t?m():p(pt,gt)}function pt(t,e){return"{"==t?W(pt,"}"):("variable"==t&&g(e),"*"==e&&(Ot.marked="keyword"),m(mt))}function mt(t,e){if("as"==e)return Ot.marked="keyword",m(pt)}function gt(t,e){if("from"==e)return Ot.marked="keyword",m(k)}function vt(t){return"]"==t?m():p(C,yt)}function yt(t){return"for"==t?p(bt,x("]")):","==t?m($(E,"]")):p($(C,"]"))}function bt(t){return"for"==t?m(et,bt):"if"==t?m(k,bt):void 0}function _t(t,e){return"operator"==t.lastType||","==t.lastType||Lt.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}var xt,wt,kt=n.indentUnit,Ct=i.statementIndent,St=i.jsonld,Tt=i.json||St,Et=i.typescript,At=i.wordCharacters||/[\w$\xa1-\uffff]/,Mt=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),n=t("keyword b"),i=t("keyword c"),r=t("operator"),o={type:"atom",style:"atom"},a={"if":t("if"),"while":e,"with":e,"else":n,"do":n,"try":n,"finally":n,"return":i,"break":i,"continue":i,"new":t("new"),"delete":i,"throw":i,"debugger":i,"var":t("var"),"const":t("var"),"let":t("var"),"function":t("function"),"catch":t("catch"),"for":t("for"),"switch":t("switch"),"case":t("case"),"default":t("default"),"in":r,"typeof":r,"instanceof":r,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":t("this"),"class":t("class"),"super":t("atom"),"yield":i,"export":t("export"),"import":t("import"),"extends":i,await:i,async:t("async")};if(Et){var s={type:"variable",style:"variable-3"},l={"interface":t("class"),"implements":i,namespace:i,module:t("module"),"enum":t("module"),"public":t("modifier"),"private":t("modifier"),"protected":t("modifier"),"abstract":t("modifier"),as:r,string:s,number:s,"boolean":s,any:s};for(var c in l)a[c]=l[c]}return a}(),Lt=/[+\-*&%=<>!?|~^]/,Nt=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Dt="([{}])",jt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Ot={state:null,column:null,marked:null,cc:null},It={name:"this",next:{name:"arguments"}};return _.lex=!0,{startState:function(t){var e={tokenize:a,lastType:"sof",cc:[],lexical:new d((t||0)-kt,0,"block",!1),localVars:i.localVars,context:i.localVars&&{vars:i.localVars},indented:t||0};return i.globalVars&&"object"==typeof i.globalVars&&(e.globalVars=i.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),u(t,e)),e.tokenize!=l&&t.eatSpace())return null;var n=e.tokenize(t,e);return"comment"==xt?n:(e.lastType="operator"!=xt||"++"!=wt&&"--"!=wt?xt:"incdec",h(e,n,xt,wt,t))},indent:function(e,n){if(e.tokenize==l)return t.Pass;if(e.tokenize!=a)return 0;var r=n&&n.charAt(0),o=e.lexical;if(!/^\s*else\b/.test(n))for(var s=e.cc.length-1;s>=0;--s){var c=e.cc[s];if(c==_)o=o.prev;else if(c!=tt)break}"stat"==o.type&&"}"==r&&(o=o.prev),Ct&&")"==o.type&&"stat"==o.prev.type&&(o=o.prev);var u=o.type,d=r==u;return"vardef"==u?o.indented+("operator"==e.lastType||","==e.lastType?o.info+1:0):"form"==u&&"{"==r?o.indented:"form"==u?o.indented+kt:"stat"==u?o.indented+(_t(e,n)?Ct||kt:0):"switch"!=o.info||d||0==i.doubleIndentSwitch?o.align?o.column+(d?0:1):o.indented+(d?0:kt):o.indented+(/^(?:case|default)\b/.test(n)?kt:2*kt)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Tt?null:"/*",blockCommentEnd:Tt?null:"*/",lineComment:Tt?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Tt?"json":"javascript",jsonldMode:St,jsonMode:Tt,expressionAllowed:e,skipExpression:function(t){var e=t.cc[t.cc.length-1];e!=k&&e!=C||t.cc.pop()}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})});