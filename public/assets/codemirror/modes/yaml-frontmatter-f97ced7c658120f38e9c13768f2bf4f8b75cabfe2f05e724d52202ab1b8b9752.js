!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../yaml/yaml")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../yaml/yaml"],e):e(CodeMirror)}(function(e){var t=0,n=1,i=2;e.defineMode("yaml-frontmatter",function(r,o){function a(e){return e.state==i?l:s}var s=e.getMode(r,"yaml"),l=e.getMode(r,o&&o.base||"gfm");return{startState:function(){return{state:t,inner:e.startState(s)}},copyState:function(t){return{state:t.state,inner:e.copyState(a(t),t.inner)}},token:function(r,o){if(o.state==t)return r.match(/---/,!1)?(o.state=n,s.token(r,o.inner)):(o.state=i,o.inner=e.startState(l),l.token(r,o.inner));if(o.state==n){var a=r.sol()&&r.match(/---/,!1),c=s.token(r,o.inner);return a&&(o.state=i,o.inner=e.startState(l)),c}return l.token(r,o.inner)},innerMode:function(e){return{mode:a(e),state:e.inner}},blankLine:function(e){var t=a(e);if(t.blankLine)return t.blankLine(e.inner)}}})});