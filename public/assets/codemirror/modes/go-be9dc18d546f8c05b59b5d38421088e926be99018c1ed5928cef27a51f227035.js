!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("go",function(t){function e(t,e){var r=t.next();if('"'==r||"'"==r||"`"==r)return e.tokenize=n(r),e.tokenize(t,e);if(/[\d\.]/.test(r))return"."==r?t.match(/^[0-9]+([eE][\-+]?[0-9]+)?/):"0"==r?t.match(/^[xX][0-9a-fA-F]+/)||t.match(/^0[0-7]+/):t.match(/^[0-9]*\.?[0-9]*([eE][\-+]?[0-9]+)?/),"number";if(/[\[\]{}\(\),;\:\.]/.test(r))return s=r,null;if("/"==r){if(t.eat("*"))return e.tokenize=i,i(t,e);if(t.eat("/"))return t.skipToEnd(),"comment"}if(d.test(r))return t.eatWhile(d),"operator";t.eatWhile(/[\w\$_\xa1-\uffff]/);var o=t.current();return c.propertyIsEnumerable(o)?("case"!=o&&"default"!=o||(s="case"),"keyword"):u.propertyIsEnumerable(o)?"atom":"variable"}function n(t){return function(n,i){for(var r,o=!1,a=!1;null!=(r=n.next());){if(r==t&&!o){a=!0;break}o=!o&&"`"!=t&&"\\"==r}return(a||!o&&"`"!=t)&&(i.tokenize=e),"string"}}function i(t,n){for(var i,r=!1;i=t.next();){if("/"==i&&r){n.tokenize=e;break}r="*"==i}return"comment"}function r(t,e,n,i,r){this.indented=t,this.column=e,this.type=n,this.align=i,this.prev=r}function o(t,e,n){return t.context=new r(t.indented,e,n,null,t.context)}function a(t){if(t.context.prev){var e=t.context.type;return")"!=e&&"]"!=e&&"}"!=e||(t.indented=t.context.indented),t.context=t.context.prev}}var s,l=t.indentUnit,c={"break":!0,"case":!0,chan:!0,"const":!0,"continue":!0,"default":!0,defer:!0,"else":!0,fallthrough:!0,"for":!0,func:!0,go:!0,"goto":!0,"if":!0,"import":!0,"interface":!0,map:!0,"package":!0,range:!0,"return":!0,select:!0,struct:!0,"switch":!0,type:!0,"var":!0,bool:!0,"byte":!0,complex64:!0,complex128:!0,float32:!0,float64:!0,int8:!0,int16:!0,int32:!0,int64:!0,string:!0,uint8:!0,uint16:!0,uint32:!0,uint64:!0,"int":!0,uint:!0,uintptr:!0,error:!0},u={"true":!0,"false":!0,iota:!0,nil:!0,append:!0,cap:!0,close:!0,complex:!0,copy:!0,imag:!0,len:!0,make:!0,"new":!0,panic:!0,print:!0,println:!0,real:!0,recover:!0},d=/[+\-*&^%:=<>!|\/]/;return{startState:function(t){return{tokenize:null,context:new r((t||0)-l,0,"top",!1),indented:0,startOfLine:!0}},token:function(t,n){var i=n.context;if(t.sol()&&(null==i.align&&(i.align=!1),n.indented=t.indentation(),n.startOfLine=!0,"case"==i.type&&(i.type="}")),t.eatSpace())return null;s=null;var r=(n.tokenize||e)(t,n);return"comment"==r?r:(null==i.align&&(i.align=!0),"{"==s?o(n,t.column(),"}"):"["==s?o(n,t.column(),"]"):"("==s?o(n,t.column(),")"):"case"==s?i.type="case":"}"==s&&"}"==i.type?i=a(n):s==i.type&&a(n),n.startOfLine=!1,r)},indent:function(t,n){if(t.tokenize!=e&&null!=t.tokenize)return 0;var i=t.context,r=n&&n.charAt(0);if("case"==i.type&&/^(?:case|default)\b/.test(n))return t.context.type="}",i.indented;var o=r==i.type;return i.align?i.column+(o?0:1):i.indented+(o?0:l)},electricChars:"{}):",fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}),t.defineMIME("text/x-go","go")});