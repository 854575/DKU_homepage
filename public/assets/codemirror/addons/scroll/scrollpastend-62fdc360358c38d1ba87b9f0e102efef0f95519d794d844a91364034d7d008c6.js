!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(e,i){t.changeEnd(i).line==e.lastLine()&&n(e)}function n(t){var e="";if(t.lineCount()>1){var i=t.display.scroller.clientHeight-30,r=t.getLineHandle(t.lastLine()).height;e=i-r+"px"}t.state.scrollPastEndPadding!=e&&(t.state.scrollPastEndPadding=e,t.display.lineSpace.parentNode.style.paddingBottom=e,t.off("refresh",n),t.setSize(),t.on("refresh",n))}t.defineOption("scrollPastEnd",!1,function(i,r,s){s&&s!=t.Init&&(i.off("change",e),i.off("refresh",n),i.display.lineSpace.parentNode.style.paddingBottom="",i.state.scrollPastEndPadding=null),r&&(i.on("change",e),i.on("refresh",n),n(i))})});