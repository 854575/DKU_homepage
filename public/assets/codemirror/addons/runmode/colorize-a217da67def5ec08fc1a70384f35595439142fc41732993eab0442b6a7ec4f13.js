!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("./runmode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./runmode"],t):t(CodeMirror)}(function(t){"use strict";function e(t,i){if(3==t.nodeType)return i.push(t.nodeValue);for(var r=t.firstChild;r;r=r.nextSibling)e(r,i),n.test(t.nodeType)&&i.push("\n")}var n=/^(p|li|div|h\\d|pre|blockquote|td)$/;t.colorize=function(n,i){n||(n=document.body.getElementsByTagName("pre"));for(var r=0;r<n.length;++r){var s=n[r],o=s.getAttribute("data-lang")||i;if(o){var a=[];e(s,a),s.innerHTML="",t.runMode(a.join(""),o,s),s.className+=" cm-s-default"}}}});