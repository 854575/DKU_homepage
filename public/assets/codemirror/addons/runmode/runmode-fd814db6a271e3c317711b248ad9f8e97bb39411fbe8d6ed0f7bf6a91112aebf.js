!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.runMode=function(e,n,i,r){var s=t.getMode(t.defaults,n),o=/MSIE \d/.test(navigator.userAgent),a=o&&(null==document.documentMode||document.documentMode<9);if(i.appendChild){var l=r&&r.tabSize||t.defaults.tabSize,c=i,u=0;c.innerHTML="",i=function(t,e){if("\n"==t)return c.appendChild(document.createTextNode(a?"\r":t)),void(u=0);for(var n="",i=0;;){var r=t.indexOf("\t",i);if(r==-1){n+=t.slice(i),u+=t.length-i;break}u+=r-i,n+=t.slice(i,r);var s=l-u%l;u+=s;for(var o=0;o<s;++o)n+=" ";i=r+1}if(e){var d=c.appendChild(document.createElement("span"));d.className="cm-"+e.replace(/ +/g," cm-"),d.appendChild(document.createTextNode(n))}else c.appendChild(document.createTextNode(n))}}for(var d=t.splitLines(e),h=r&&r.state||t.startState(s),f=0,p=d.length;f<p;++f){f&&i("\n");var g=new t.StringStream(d[f]);for(!g.string&&s.blankLine&&s.blankLine(h);!g.eol();){var m=s.token(g,h);i(g.current(),m,f,g.start,h),g.start=g.pos}}}});