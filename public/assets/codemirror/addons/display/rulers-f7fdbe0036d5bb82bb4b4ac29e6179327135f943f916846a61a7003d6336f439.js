!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(e){e.state.rulerDiv.textContent="";var n=e.getOption("rulers"),i=e.defaultCharWidth(),s=e.charCoords(t.Pos(e.firstLine(),0),"div").left;e.state.rulerDiv.style.minHeight=e.display.scroller.offsetHeight+30+"px";for(var r=0;r<n.length;r++){var a=document.createElement("div");a.className="CodeMirror-ruler";var o,l=n[r];"number"==typeof l?o=l:(o=l.column,l.className&&(a.className+=" "+l.className),l.color&&(a.style.borderColor=l.color),l.lineStyle&&(a.style.borderLeftStyle=l.lineStyle),l.width&&(a.style.borderLeftWidth=l.width)),a.style.left=s+o*i+"px",e.state.rulerDiv.appendChild(a)}}t.defineOption("rulers",!1,function(t,n){t.state.rulerDiv&&(t.display.lineSpace.removeChild(t.state.rulerDiv),t.state.rulerDiv=null,t.off("refresh",e)),n&&n.length&&(t.state.rulerDiv=t.display.lineSpace.insertBefore(document.createElement("div"),t.display.cursorDiv),t.state.rulerDiv.className="CodeMirror-rulers",e(t),t.on("refresh",e))})});