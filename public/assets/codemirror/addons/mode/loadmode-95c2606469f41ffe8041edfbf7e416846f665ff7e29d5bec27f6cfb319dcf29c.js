!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),"cjs"):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],function(e){t(e,"amd")}):t(CodeMirror,"plain")}(function(t,e){function n(t,e){var n=e;return function(){0==--n&&t()}}function i(e,i){var r=t.modes[e].dependencies;if(!r)return i();for(var s=[],o=0;o<r.length;++o)t.modes.hasOwnProperty(r[o])||s.push(r[o]);if(!s.length)return i();for(var a=n(i,s.length),o=0;o<s.length;++o)t.requireMode(s[o],a)}t.modeURL||(t.modeURL="../mode/%N/%N.js");var r={};t.requireMode=function(n,s){if("string"!=typeof n&&(n=n.name),t.modes.hasOwnProperty(n))return i(n,s);if(r.hasOwnProperty(n))return r[n].push(s);var o=t.modeURL.replace(/%N/g,n);if("plain"==e){var a=document.createElement("script");a.src=o;var l=document.getElementsByTagName("script")[0],c=r[n]=[s];t.on(a,"load",function(){i(n,function(){for(var t=0;t<c.length;++t)c[t]()})}),l.parentNode.insertBefore(a,l)}else"cjs"==e?(require(o),s()):"amd"==e&&requirejs([o],s)},t.autoLoadMode=function(e,n){t.modes.hasOwnProperty(n)||t.requireMode(n,function(){e.setOption("mode",e.getOption("mode"))})}});